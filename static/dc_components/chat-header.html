<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">

<dom-module id="chat-header">
        <style is="custom-style">
        :host{
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
        }
        #title{
                top: 1em;
                width: 100%;
                text-align:center;
                font-size: 3em;
                marigin-left:auto;
                marigin-right:auto;
                position: absolute;
                color: white;
        }
        #enter_button{
                top: 9em;
                position: absolute;
                right: 10%;
                z-index: 8;
                color: white;
        }
        #content_input{
                position:absolute;
                top: 8.5em;
                width: 80%;
                left: 10%;
                right: 10%;
                z-index: 7;
                color: #FFFFFF;
                --paper-input-container-color: #FFFFFF;
                --paper-input-container-focus-color: #E91E63;
                --paper-input-container-invalid-color: #E91E63;
                --paper-input-container-input-color: #FFFFFF;
        }
        </style>
        <template>
                <label id="title">Chat</label>
                <paper-input
                        char-counter
                        pattern="[^\n]*"
                        maxlength="140" 
                        id="content_input"
                        mode="floatinglabel"
                        on-keydown="onKeyDown"
                        label="Your Words">
                </paper-input>
                <paper-icon-button
                        id="enter_button"
                        on-click="enterRoom"
                        icon="arrow-forward">
                </paper-icon-button>
        </template>
</dom-module>
<script>
require(["jquery"],function($){
        Polymer({
                is:"chat-header",
                ready:function(){
                        this.addMessage("233","666");
                },
                checkName:function(name){
                        console.log(2);
                        if(name.length>50)
                                this.$.name_input.invalid=true;
                },
                onKeyDown:function(evt){
                        if(evt.keyCode==13){
                                this.send();
                                return false;
                        }
                },
                send:function(){
                        var text=$("#content_input").val();
                        $("#content_input").val('');
                        console.log(text);
                },
                addMessage:function(text){
                        
                },
        });
});
</script>
